
<!DOCTYPE html>
<html lang="cn ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hikari&#39;s Blog || CVE-2019-6447_ES文件浏览器(上)</title>
    <meta name="author" content="Hikari">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/avatar.png">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Hikari's Blog" type="application/atom+xml">
</head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Hikari's Blog</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="idcard" theme="filled" />
            </span>
            <span>about</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/like/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/like/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
        <a target="_blank" rel="noopener" href="https://en.korilin.com">
            <span>
                <a-icon type="compass" theme="filled" />
            </span>
            <span>英文博客</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>Hikari's Blog</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="idcard" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/like/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/like/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
            <a target="_blank" rel="noopener" href="https://en.korilin.com">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="compass" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">英文博客</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>CVE-2019-6447_ES文件浏览器(上) </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2020/12/5
        </span>

        

        

        <span class="tags">
            <span class="icon">
                <a-icon type="tags" theme="filled" />
            </span>
            
            <span class="tag">
                
                <a href="/tags/CVE" style=color:#1bccbc>
                    CVE
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Android" style=color:#879cff>
                    Android
                </a>
            </span>
            
        </span>
        
    </div>

    <div class="content" v-pre>
        <h3 id="CVE-2019-6447-ES文件浏览器-上"><a href="#CVE-2019-6447-ES文件浏览器-上" class="headerlink" title="CVE-2019-6447_ES文件浏览器(上)"></a>CVE-2019-6447_ES文件浏览器(上)</h3><p>​        ES 文件浏览器，是一款基于 Android 系统的多功能手机文件、程序和进程管理器，它支持在手机、电脑、远程和蓝牙间浏览管理文件，在全球有超过亿次的下载量。<br>​        基于 Android 平台的 ES File Explorer File Manager application 4.1.9.7.4 及之前版本中存在安全漏洞，该漏洞源于 ES 应用程序在运行一次之后（CVE-2019-6447），该端口并未关闭依旧可以通过 HTTP 协议 POST 请求接收 JSON 数据，进行解析执行返回结果。攻击者可通过向 TCP 59777 端口发送请求利用该漏洞读取任意文件或执行应用程序。</p>
<ul>
<li>ES 文件浏览器在运行时会创建一个绑定在 59777 端口的 HTTP 服务，在该服务提供了 10+ 个命令，用于访问用户手机的数据以及执行应用程序；但该服务并没有对请求进行校验，从而导致出现安全漏洞。</li>
</ul>
<blockquote>
<p>触发条件</p>
<ul>
<li>版本 v4.1.9.7.4 或之前(修复该漏洞的版本为 v4.1.9.9 )</li>
<li>复现设备与手机需处于同一局域网</li>
</ul>
</blockquote>
<h4 id="复现环境"><a href="#复现环境" class="headerlink" title="复现环境"></a>复现环境</h4><p>版本：v4.1.8.3.1(另外还有v4.1.6.7.2(返回500)，v4.1.9.4(返回400))</p>
<p>工具：Android killer v1.3.1、dex2jar v2.1、jd-gui v1.6.6 (<a target="_blank" rel="noopener" href="https://down.52pojie.cn/Tools/Android_Tools/">爱盘</a>下载即可)</p>
<p>雷电模拟器 v4.0.27（模拟型号 HUAWEI WLZ-AN00）</p>
<h4 id="ES文件浏览器工作原理"><a href="#ES文件浏览器工作原理" class="headerlink" title="ES文件浏览器工作原理"></a>ES文件浏览器工作原理</h4><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/49460056">参考链接</a></p>
<p>基本原理：使用SMB协议和http服务器来实现</p>
<p>SMB协议的作用是访问局域网中的共享文件<br>http服务器作用是像我们平时访问网页视频那样，可以在线实时播放局域网视频</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/86808fa060f42a146251e8d8b1fa2540_720w.jpg"></p>
<p>http服务器在手机里面，电脑和手机在同一个局域网内</p>
<p>SMB协议：<a href="https://link.zhihu.com/?target=http://baike.baidu.com/link?url=2Ut4IMA5VtkMOlrYzO0bbkvlqvr3i5wIAI-f3Ep-8TGLakXJhdRwSIgI9_CBj85cq8dJTRKbInuxganiXSeqoa">SMB协议_百度百科</a><br>SMB（Server Message Block）通信协议是微软（Microsoft）和英特尔(Intel)在1987年制定的协议，主要是作为<strong>Microsoft网络的通讯协议。</strong>Windows系统就可以使用该协议进行文件传输。但是Android 不支持直接访问局域网的共享文件，所以要用到其它的开源库，来实现文件的访问</p>
<p>SMB协议和http服务器的实现<br> jcifs 实现smb协议   <a href="https://link.zhihu.com/?target=http://jcifs.samba.org/">http://jcifs.samba.org/</a><br>实现http服务器  <a href="https://link.zhihu.com/?target=https://clinkc.svn.sourceforge.net/svnroot/cgupnpjava/trunk/">https://clinkc.svn.sourceforge.net/svnroot/cgupnpjava/trunk/</a><br>（或者用apache来实现http服务器 ）<a href="https://link.zhihu.com/?target=http://commons.apache.org/proper/commons-net/">Apache Commons Net</a></p>
<h4 id="复现过程"><a href="#复现过程" class="headerlink" title="复现过程"></a>复现过程</h4><p>先贴上程序运行的结果</p>
<p><a target="_blank" rel="noopener" href="https://github.com/fs0c131y/ESFileExplorerOpenPortVuln/blob/master/poc.py">POC</a></p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201205175131716.png"></p>
<p>弹计算器(直接从雷电下载的小牛计算器)</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/ES%E5%BC%B9%E8%AE%A1%E7%AE%97%E5%99%A8.gif"></p>
<p>当然也可以不使用poc，有一种更优雅的验证方式：<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2019/09/curl-reference.html">curl</a>，来自大佬的<a target="_blank" rel="noopener" href="https://www.freebuf.com/vuls/195069.html">文章</a>（是我太菜了555）</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201210155542106.png"></p>
<p>在复现过程中，遇到了不同类型的错误(400和500)，专门查了一下错误原因：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HTTP状态码（HTTP Status Code）是用bai以表示网页服务器duHTTP响应状态的3位数字代码。它由 RFC 2616 规范定义的，并得到RFC 2518、RFC 2817、RFC 2295、RFC 2774、RFC 4918等规范扩展。</span><br><span class="line">表示页面请求的状态值，分别有：</span><br><span class="line">200 表示请求成功</span><br><span class="line">303 表示重定向</span><br><span class="line">400 表示请求错误，服务器不理解请求的语法</span><br><span class="line">401 表示未授权</span><br><span class="line">403 表示禁止访问</span><br><span class="line">404 表示文件未找到</span><br><span class="line">500 （服务器内部错误），服务器遇到错误，无法完成请求</span><br><span class="line">更详细的可见https:&#x2F;&#x2F;www.cnblogs.com&#x2F;buwang&#x2F;p&#x2F;9995738.html</span><br></pre></td></tr></table></figure>
<p>由于是第一次复现移动端的CVE，一直不知道问题出在哪里。开始我一直以为是我模拟器的配置问题，或者是poc的py版本不对，但是在网上找大佬的笔记，怎么都不是这样的问题。一拍脑袋，试一下别的ES文件浏览器版本，先是返回500错误变成了400，最终直接用已经证实可以复现的版本，成功复现。</p>
<p>一开始是用Android killer反编译，确实很好用。拖进去，点一下，啪的一下就出来了，很快啊。</p>
<p>初步可以看出<strong>工程信息</strong>是大概的文件信息，<strong>工程管理器</strong>是文件的代码结构，具体可见<a target="_blank" rel="noopener" href="https://www.cnblogs.com/bingghost/p/5820256.html">这篇博客</a>。再加上上面的工具栏，功能就更多了，以后会不断了解的。挖个坑<a href>Android killer使用</a></p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201207162022315.png"></p>
<p>根据参考的文章，可以在工程管理器里找到对应的文件路径，但是点开的却是smali文件，如上图。于是我又不得不去查阅了一下安卓的各种文件格式，具体可以看我另一篇文章<a href="%5Bhttps://eternalhikari.github.io/2020/12/07/%E5%AE%89%E5%8D%93%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/%5D(https://eternalhikari.github.io/2020/12/07/%E5%AE%89%E5%8D%93%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/)">安卓文件格式</a>(先挖个坑自己填)。</p>
<p>在对其他几个版本反编译的时候，出现了<code>AndroidKiller APK 反编译失败</code>的错误提示，在<a target="_blank" rel="noopener" href="https://blog.csdn.net/buzul/article/details/108733151">这篇文章</a>找到了解决方式，其实不需要用到后面一个的方式，在<a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv1785046/">这篇文章</a>中提到的<code>Debug</code>工具，执行后会在其目录下的<code>/temp</code>路径出现反编译好的文件(下图为执行成功)，直接将dex文件转为jar文件，再用jd-gui就可查看源码</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201207163541525.png"></p>
<p><strong>关键步骤：dex –&gt; jar</strong></p>
<p>当然也可以直接用android killer直接转</p>
<p>右键将apk解压到本路径下，在文件夹中可以找到dex文件，利用dex2jar转换为jar文件，并用jd-gui打开。这里我试了linux下执行没能成功，不过直接用windows下的命令也问题不大。</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201207171714666.png"></p>
<h4 id="漏洞分析"><a href="#漏洞分析" class="headerlink" title="漏洞分析"></a>漏洞分析</h4><p>本次漏洞主要在：<br><code>com.estrongs.fs.impl.adb.c</code><br><code>com.estrongs.android.f.a</code></p>
<h5 id="com-estrongs-android-f-a"><a href="#com-estrongs-android-f-a" class="headerlink" title="com.estrongs.android.f.a"></a>com.estrongs.android.f.a</h5><p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201207234919586.png"></p>
<p>在这个部分可以看到poc一样的内容，是ES浏览器自带的一些获取APP信息的函数，可以利用。我们追踪几个函数看看具体做了些什么</p>
<ul>
<li>getDeviceInfo</li>
</ul>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201207235101764.png"></p>
<p>如果字符串是”getDeviceInfo”，那么会返回b()</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201207235237719.png"></p>
<p>可以看出每个函数(不知道对不对，晚点再补一下java的知识)都有类似的结构，若request state code是200，则返回ok，若是400，500则有对应的错误处理机制</p>
<ul>
<li>appLaunch</li>
</ul>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201208003745090.png"></p>
<p>同样，查找a()，和查询设备信息同样的结构</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201208004056085.png"></p>
<p>传入<code>appPackageName</code>，从而打开app</p>
<p>其他功能也大同小异</p>
<h5 id="com-estrongs-fs-impl-adb-c"><a href="#com-estrongs-fs-impl-adb-c" class="headerlink" title="com.estrongs.fs.impl.adb.c"></a>com.estrongs.fs.impl.adb.c</h5><p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201208114622611.png"></p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201208114645130.png"></p>
<p>关键字符串<code>59777</code>一共出现了三次，分别对应查找是如何利用59777端口的</p>
<p>根据函数参数类型查找对应的函数</p>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201211135215829.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public static boolean a(String paramString, int paramInt1, int paramInt2)</span><br><span class="line">&#123;</span><br><span class="line">  boolean bool2 &#x3D; false;</span><br><span class="line">  for (;;)</span><br><span class="line">  &#123;</span><br><span class="line">    int i &#x3D; paramInt2 - 1;</span><br><span class="line">    boolean bool1 &#x3D; bool2;</span><br><span class="line">    if (paramInt2 &gt; 0)</span><br><span class="line">    &#123;</span><br><span class="line">      if (b(paramString, paramInt1)) &#123;</span><br><span class="line">        bool1 &#x3D; true;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">      return bool1;</span><br><span class="line">    &#125;</span><br><span class="line">    if (e) &#123;</span><br><span class="line">      com.estrongs.android.util.k.b(a, &quot;adb list try count &quot; + i);</span><br><span class="line">    &#125;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">      Thread.sleep(200L);</span><br><span class="line">      paramInt2 &#x3D; i;</span><br><span class="line">    &#125;</span><br><span class="line">    catch (Exception localException)</span><br><span class="line">    &#123;</span><br><span class="line">      localException.printStackTrace();</span><br><span class="line">      paramInt2 &#x3D; i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/12/05/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8A)/image-20201211135516318.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public static boolean b(String paramString, int paramInt)</span><br><span class="line">&#123;</span><br><span class="line">  try</span><br><span class="line">  &#123;</span><br><span class="line">    Socket localSocket &#x3D; new Socket();</span><br><span class="line">    localSocket.connect(new InetSocketAddress(paramString, paramInt), 2000);</span><br><span class="line">    localSocket.close();</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line">  catch (Throwable paramString) &#123;&#125;</span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<ul>
<li>adb</li>
</ul>
<p>Android Debug Bridge (adb) 是一个android开发人员必会的多功能的调试工具，如它的名字一样，它在开发者和目标机器之间，架起了一座bridge。<a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_4cd5d2bb0101a1bb.html">参考链接</a></p>
<p>具体的调用细节及补丁分析需要用到其他工具，将在<a href="%5Bhttps://eternalhikari.github.io/2020/12/06/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8B)/%5D(https://eternalhikari.github.io/2020/12/06/CVE-2019-6447_ES%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88%E5%99%A8(%E4%B8%8B)/)">下一篇文章</a>中介绍</p>
<p>参考文章：</p>
<p><a target="_blank" rel="noopener" href="https://www.52pojie.cn/thread-856993-1-1.html">https://www.52pojie.cn/thread-856993-1-1.html</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/fs0c131y/ESFileExplorerOpenPortVuln">https://github.com/fs0c131y/ESFileExplorerOpenPortVuln</a></p>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2020 Hikari&#39;s Blog
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Hikari
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: 'hexo-theme-particle',      // The repository of store comments,
        owner: 'korilin',
        admin: ['korilin'],
        language: 'en',
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

</body>

</html>